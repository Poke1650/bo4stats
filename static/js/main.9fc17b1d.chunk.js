(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{218:function(e,t,a){e.exports=a(387)},226:function(e,t,a){},228:function(e,t,a){},387:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(53),c=a.n(l),s=(a(223),a(226),a(16)),o=a(17),i=a(22),u=a(20),m=a(23),h=(a(228),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"col12 colm12 colt12 header"},r.a.createElement("h1",null,"BO4 Stats comparator"))}}]),t}(n.Component)),d=a(394),p=a(185),f=a(398),E=a(400),v=a(397),b=(a(386),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).show=function(){return a.setState({clearOpen:!0})},a.handleConfirm=function(){localStorage.removeItem("searches"),a.setState({savedSearches:a.getStoredSearches(),clearOpen:!1})},a.handleCancel=function(){return a.setState({clearOpen:!1})},a.updateQuery=function(e,t){document.getElementById("query").value=t.value},a.state={savedSearches:a.getStoredSearches(),clearOpen:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getStoredSearches",value:function(){var e=localStorage.getItem("searches");return null===e?[]:JSON.parse(e)}},{key:"saveQuery",value:function(){var e=document.getElementById("query").value,t=localStorage.getItem("searches"),a=null===t?[]:JSON.parse(t);a.push({id:1,value:e,text:e}),localStorage.setItem("searches",JSON.stringify(a)),this.setState({savedSearches:this.getStoredSearches()})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"search"},r.a.createElement("h2",null,"Compare players"),r.a.createElement("p",null,"Enter battlenet usernames with the tag separated by a comma ",r.a.createElement("pre",null,","),r.a.createElement("br",null),"Example: ",r.a.createElement("pre",null,"Poke#1650, YourUser#3654")),r.a.createElement("div",{className:"col12 colt12 colm12"},r.a.createElement(d.a,{id:"query",className:"col6 colt6 colm11",icon:r.a.createElement(p.a,{name:"search",inverted:!0,circular:!0,link:!0,onClick:function(){return e.props.searchHandler(document.getElementById("query").value)}}),placeholder:"Usernames separated by commas"})),r.a.createElement("div",{className:"col12 colt12 colm12 padding-top"},r.a.createElement(f.a,{className:"col4 colt12 colm12",placeholder:"Searches",selection:!0,options:this.state.savedSearches,onChange:this.updateQuery}),r.a.createElement(E.a,{onClick:function(){return e.saveQuery()},className:"col1",icon:!0},"Save",r.a.createElement(p.a,{name:"save outline"})),r.a.createElement(E.a,{onClick:this.show,className:"col1",icon:!0},"Clear",r.a.createElement(p.a,{name:"delete"})),r.a.createElement(v.a,{content:"You are about to remove ALL your saved searches, continue?",cancelButton:"No",confirmButton:"Yes, Delete all",dimmer:!0,open:this.state.clearOpen,onCancel:this.handleCancel,onConfirm:this.handleConfirm})),r.a.createElement("p",{className:"padding-top"},'Save your search by clicking "Save"',r.a.createElement("br",null),"Select a saved search in the box to load it"),r.a.createElement("p",null,"Support for PSN/XBL and Steam comming soon!"))}}]),t}(n.Component)),y=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,null,[{key:"query",value:function(e){return fetch(e).then(function(e){return e.json()})}},{key:"post",value:function(e,t){return fetch(e,{method:"POST",body:JSON.stringify(t)}).then(function(e){return e.json()})}}]),e}(),O="https://cod-api.theapinetwork.com/api/",S={VALIDATE:O+"validate",STATS:O+"stats",MATCHES:O+"matches"},g={BO4:"bo4",BO3:"bo3",WWII:"wwii",INFINITY_WAR:"iw"},j={PSN:"psn",XBOX_LIVE:"xbl",STEAM:"steam",BATTLE_NET:"bnet"};function k(e){return e.replace("#","%23")}var C=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,null,[{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.BO4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.BATTLE_NET;return y.query("".concat(S.VALIDATE,"/").concat(t,"/").concat(k(e),"/").concat(a))}},{key:"getUserStats",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.BO4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.BATTLE_NET;return console.log("".concat(S.STATS,"/").concat(t,"/").concat(k(e),"/").concat(a)),y.query("".concat(S.STATS,"/").concat(t,"/").concat(k(e),"/").concat(a))}}]),e}(),w=a(396),N=a(399),T=a(209),B=a.n(T),A=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.data.data,t=this.props.data.users,a=this.props.stat,n=this.props.title;return r.a.createElement(N.a.Row,null,r.a.createElement(N.a.Cell,{collapsing:!0},n),t.map(function(t){return r.a.createElement(N.a.Cell,null,e[t].stats[a])}))}}]),t}(n.Component),I=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data.data,a=this.props.data.users,n=this.props.stats,l=void 0===this.props.precision?2:this.props.precision,c=this.props.title;return r.a.createElement(N.a.Row,null,r.a.createElement(N.a.Cell,{collapsing:!0},c),a.map(function(a){return r.a.createElement(N.a.Cell,null,e.ratio(t[a].stats[n[0]],t[a].stats[n[1]],l))}))}},{key:"ratio",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return(e/t).toFixed(a)}}]),t}(n.Component);var L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={error:null,shouldUpdate:!0,isLoaded:!1,data:[],users:a.props.users},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"query",value:function(){var e=this;this.setState({error:null});var t=[];this.state.users.forEach(function(a){t.push(C.getUserStats(a).then(function(t){1001!==t.code?e.state.data[a]=t:e.setState({error:{message:"User ".concat(a," not found!")}})},function(t){e.setState({isLoaded:!0,error:t})}))}),Promise.all(t).then(function(){e.setState({isLoaded:!0})})}},{key:"componentDidMount",value:function(){this.query()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({users:e.users,isLoaded:!1},function(){return t.query()})}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded,n=e.data,l={users:this.state.users,data:n};return t?r.a.createElement("div",{class:"errorBox"},"Error: ",t.message):a?r.a.createElement("div",null,r.a.createElement(N.a,{celled:!0,inverted:!0},r.a.createElement(N.a.Header,null,r.a.createElement(N.a.Row,null,r.a.createElement(N.a.HeaderCell,null),this.state.users.map(function(e){return r.a.createElement(N.a.HeaderCell,{key:e},e)}))),r.a.createElement(N.a.Body,null,r.a.createElement(A,{data:l,stat:"longestkillstreak",title:"Longest Killstreak"}),r.a.createElement(A,{data:l,stat:"curwinstreak",title:"Current win streak"}),r.a.createElement(N.a.Row,null,r.a.createElement(N.a.Cell,{collapsing:!0},"Playtime"),this.state.users.map(function(e){return r.a.createElement(N.a.Cell,null,function(e){var t=B.a.duration(1e3*e),a=Math.floor(t.asDays()),n=Math.floor(t.asHours()-24*a);return"".concat(a,"d ").concat(n,"h")}(n[e].stats.timeplayed))})),r.a.createElement(I,{data:l,stats:["kills","deaths"],title:"K/D"}),r.a.createElement(I,{data:l,stats:["ekia","deaths"],title:"EKIA/D"}),r.a.createElement(N.a.Row,null,r.a.createElement(N.a.Cell,{collapsing:!0},"Accuracy"),this.state.users.map(function(e){return r.a.createElement(N.a.Cell,null,function(e,t){var a=(e/t*100).toFixed(2);return"".concat(a,"%")}(n[e].stats.hits,n[e].stats.misses))})),r.a.createElement(A,{data:l,stat:"kills",title:"Total kills"}),r.a.createElement(N.a.Row,null,r.a.createElement(N.a.Cell,{collapsing:!0},"Assists"),this.state.users.map(function(e){return r.a.createElement(N.a.Cell,null,function(e,t){var a=e-t,n=(100*a/e).toFixed(0);return"".concat(a," (").concat(n,"%)")}(n[e].stats.ekia,n[e].stats.kills))})),r.a.createElement(I,{data:l,stats:["wins","losses"],title:"W/L"}),r.a.createElement(N.a.Row,null,r.a.createElement(N.a.Cell,{collapsing:!0},"Prestige-Level"),this.state.users.map(function(e){return r.a.createElement(N.a.Cell,null,n[e].stats.prestige," - ",n[e].stats.level)}))))):r.a.createElement(w.a,{active:!0,inline:"centered"})}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={users:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleSearch",value:function(e){var t=e.split(/[\s,;]+/);this.setState({users:t})}},{key:"render",value:function(){return r.a.createElement("main",{className:"col12 colm12 colt12"},r.a.createElement(b,{searchHandler:this.handleSearch.bind(this)}),0!==this.state.users.length?r.a.createElement(L,{users:this.state.users}):null)}}]),t}(n.Component),P=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"col12 colm12 colt12"},r.a.createElement("a",{href:"http://www.github.com/Poke1650/bo4stats"},"Fork on Github ",r.a.createElement(p.a,{name:"github",size:"large"}))," ","- Powered by\xa0"," ",r.a.createElement("a",{href:"https://callofdutytracker.com/site-api"},"callofdutytracker.com"))}}]),t}(n.Component),x=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,null),r.a.createElement(q,null),r.a.createElement(P,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[218,2,1]]]);
//# sourceMappingURL=main.9fc17b1d.chunk.js.map