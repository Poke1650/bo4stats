(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{158:function(e,t,a){e.exports=a(294)},166:function(e,t,a){},168:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(43),c=a.n(l),s=(a(163),a(166),a(14)),o=a(15),i=a(21),u=a(18),h=a(22),m=(a(168),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"col12 colm12 colt12 header"},r.a.createElement("h1",null,"BO4Stats"))}}]),t}(n.Component)),d=a(301),p=a(129),v=a(303),f=a(305),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).updateQuery=function(e,t){document.getElementById("query").value=t.value},a.state={savedSearches:a.getStoredSearches()},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"getStoredSearches",value:function(){var e=localStorage.getItem("searches");return null===e?[]:JSON.parse(e)}},{key:"saveQuery",value:function(){var e=document.getElementById("query").value,t=localStorage.getItem("searches"),a=null===t?[]:JSON.parse(t);a.push({id:1,value:e,text:e}),localStorage.setItem("searches",JSON.stringify(a)),this.setState({savedSearches:this.getStoredSearches()})}},{key:"deleteQuery",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"search"},r.a.createElement("h1",null,"Search users"),r.a.createElement("div",{className:"col12 colt12 colm12"},r.a.createElement(d.a,{id:"query",className:"col6 colt6 colm11",icon:r.a.createElement(p.a,{name:"search",inverted:!0,circular:!0,link:!0,onClick:function(){return e.props.searchHandler(document.getElementById("query").value)}}),placeholder:"Separated by , or spaces"})),r.a.createElement("div",{className:"col12 colt12 colm12 padding-top"},r.a.createElement(v.a,{className:"col4 colt12 colm12",placeholder:"Searches",selection:!0,options:this.state.savedSearches,onChange:this.updateQuery}),r.a.createElement(f.a,{onClick:function(){return e.saveQuery()},className:"col1",icon:!0},"Save",r.a.createElement(p.a,{name:"save outline"})),r.a.createElement(f.a,{onClick:function(){return e.deleteQuery()},className:"col1",icon:!0},"Delete",r.a.createElement(p.a,{name:"delete"}))))}}]),t}(n.Component),b=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,null,[{key:"query",value:function(e){return fetch(e).then(function(e){return e.json()})}},{key:"post",value:function(e,t){return fetch(e,{method:"POST",body:JSON.stringify(t)}).then(function(e){return e.json()})}}]),e}(),y="https://cod-api.theapinetwork.com/api/",O={VALIDATE:y+"validate",STATS:y+"stats",MATCHES:y+"matches"},j={BO4:"bo4",BO3:"bo3",WWII:"wwii",INFINITY_WAR:"iw"},k={PSN:"psn",XBOX_LIVE:"xbl",STEAM:"steam",BATTLE_NET:"bnet"};function g(e){return e.replace("#","%23")}var S=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,null,[{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j.BO4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.BATTLE_NET;return b.query("".concat(O.VALIDATE,"/").concat(t,"/").concat(g(e),"/").concat(a))}},{key:"getUserStats",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j.BO4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.BATTLE_NET;return console.log("".concat(O.STATS,"/").concat(t,"/").concat(g(e),"/").concat(a)),b.query("".concat(O.STATS,"/").concat(t,"/").concat(g(e),"/").concat(a))}}]),e}(),w=a(302),C=a(304),T=a(149),N=a.n(T),A=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.data.data,t=this.props.data.users,a=this.props.stat,n=this.props.title;return r.a.createElement(C.a.Row,null,r.a.createElement(C.a.Cell,{collapsing:!0},n),t.map(function(t){return r.a.createElement(C.a.Cell,null,e[t].stats[a])}))}}]),t}(n.Component),I=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data.data,a=this.props.data.users,n=this.props.stats,l=void 0===this.props.precision?2:this.props.precision,c=this.props.title;return r.a.createElement(C.a.Row,null,r.a.createElement(C.a.Cell,{collapsing:!0},c),a.map(function(a){return r.a.createElement(C.a.Cell,null,e.ratio(t[a].stats[n[0]],t[a].stats[n[1]],l))}))}},{key:"ratio",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return(e/t).toFixed(a)}}]),t}(n.Component);var B=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={error:null,shouldUpdate:!0,isLoaded:!1,data:[],users:a.props.users},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"query",value:function(){var e=this,t=[];this.state.users.forEach(function(a){t.push(S.getUserStats(a).then(function(t){e.state.data[a]=t},function(t){e.setState({isLoaded:!0,error:t})}))}),Promise.all(t).then(function(){e.setState({isLoaded:!0})})}},{key:"componentDidMount",value:function(){this.query()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({users:e.users,isLoaded:!1},function(){return t.query()})}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded,n=e.data,l={users:this.state.users,data:n};return t?r.a.createElement("div",null,"Error: ",t.message):a?r.a.createElement("div",null,r.a.createElement(C.a,{celled:!0,inverted:!0},r.a.createElement(C.a.Header,null,r.a.createElement(C.a.Row,null,r.a.createElement(C.a.HeaderCell,null),this.state.users.map(function(e){return r.a.createElement(C.a.HeaderCell,{key:e},e)}))),r.a.createElement(C.a.Body,null,r.a.createElement(A,{data:l,stat:"longestkillstreak",title:"Longest Killstreak"}),r.a.createElement(A,{data:l,stat:"curwinstreak",title:"Current win streak"}),r.a.createElement(C.a.Row,null,r.a.createElement(C.a.Cell,{collapsing:!0},"Playtime"),this.state.users.map(function(e){return r.a.createElement(C.a.Cell,null,function(e){var t=N.a.duration(1e3*e),a=Math.floor(t.asDays()),n=Math.floor(t.asHours()-24*a);return"".concat(a,"d ").concat(n,"h")}(n[e].stats.timeplayed))})),r.a.createElement(I,{data:l,stats:["kills","deaths"],title:"K/D"}),r.a.createElement(I,{data:l,stats:["ekia","deaths"],title:"EKIA/D"}),r.a.createElement(C.a.Row,null,r.a.createElement(C.a.Cell,{collapsing:!0},"Accuracy"),this.state.users.map(function(e){return r.a.createElement(C.a.Cell,null,function(e,t){var a=(e/t*100).toFixed(2);return"".concat(a,"%")}(n[e].stats.hits,n[e].stats.misses))})),r.a.createElement(A,{data:l,stat:"kills",title:"Total kills"}),r.a.createElement(C.a.Row,null,r.a.createElement(C.a.Cell,{collapsing:!0},"Assists"),this.state.users.map(function(e){return r.a.createElement(C.a.Cell,null,function(e,t){var a=e-t,n=(100*a/e).toFixed(0);return"".concat(a," (").concat(n,"%)")}(n[e].stats.ekia,n[e].stats.kills))})),r.a.createElement(I,{data:l,stats:["wins","losses"],title:"W/L"}),r.a.createElement(C.a.Row,null,r.a.createElement(C.a.Cell,{collapsing:!0},"Prestige-Level"),this.state.users.map(function(e){return r.a.createElement(C.a.Cell,null,n[e].stats.prestige," - ",n[e].stats.level)}))))):r.a.createElement(w.a,{active:!0,inline:"centered"})}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={users:[]},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleSearch",value:function(e){var t=e.split(/[\s,;]+/);this.setState({users:t})}},{key:"render",value:function(){return r.a.createElement("main",{className:"col12 colm12 colt12"},r.a.createElement(E,{searchHandler:this.handleSearch.bind(this)}),0!==this.state.users.length?r.a.createElement(B,{users:this.state.users}):null)}}]),t}(n.Component),q=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"col12 colm12 colt12"},r.a.createElement("a",{href:"http://www.github.com/Poke1650/bo4stats"},"Fork on Github ",r.a.createElement(p.a,{name:"github",size:"large"})))}}]),t}(n.Component),R=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m,null),r.a.createElement(L,null),r.a.createElement(q,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[158,2,1]]]);
//# sourceMappingURL=main.71c69347.chunk.js.map